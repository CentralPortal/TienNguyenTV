<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Câu Hỏi Phỏng Vấn (Open-Ended)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
            color: #374151;
        }
        details summary {
            list-style: none;
        }
        details summary::-webkit-details-marker {
            display: none;
        }
        details summary:focus {
            outline: none;
        }
        .line-through {
            text-decoration: line-through;
        }
        .hidden-question {
            display: none;
        }
    </style>
</head>
<body class="p-4 sm:p-8">
    <div class="container mx-auto max-w-4xl bg-white shadow-xl rounded-2xl p-6 sm:p-10 my-8">
        <header class="text-center mb-8">
            <h1 class="text-4xl font-extrabold text-blue-700 mb-2">
                <span class="block">Câu Hỏi Phỏng Vấn</span>
            </h1>
            <p class="text-sm text-gray-500 italic">Phiên bản câu hỏi mở rộng (Open-ended questions)</p>
        </header>

        <nav id="table-of-contents" class="mb-8 p-4 bg-gray-100 rounded-lg shadow-sm">
            <h2 class="text-xl font-bold text-gray-800 mb-3">Mục Lục</h2>
            <ul id="toc-list" class="list-none pl-0 space-y-2"></ul>
        </nav>

        <div class="mb-4 text-right">
            <label for="hideCompletedToggle" class="inline-flex items-center cursor-pointer">
                <input type="checkbox" id="hideCompletedToggle" class="sr-only peer">
                <div class="relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                <span class="ms-3 text-sm font-bold">Ẩn các câu hỏi đã đánh dấu</span>
            </label>
        </div>

        <section class="space-y-6">
            <!-- Category: Thông Tin Chung & Đời Sống -->
            <details id="thong-tin-chung-doi-song" class="group mb-6 p-4 bg-blue-50 rounded-lg shadow-sm">
                <summary class="flex justify-between items-center text-xl font-semibold text-blue-600 cursor-pointer">
                    Thông Tin Chung & Đời Sống
                    <svg class="w-5 h-5 transform transition-transform duration-300 group-open:rotate-90" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                </summary>
                <div class="mt-3">
                    <ol class="list-decimal pl-6 space-y-2 text-gray-700">
                        <li>Kể lại một kỷ niệm đẹp từ thời thơ ấu mà cô/chú vẫn luôn mỉm cười khi nhớ về?</li>
                        <li>Chia sẻ về hành trình của cô/chú từ khi sinh ra cho đến độ tuổi hiện tại?</li>
                        <li>Hãy kể về các con của cô/chú và những niềm tự hào mà họ mang lại?</li>
                        <li>Nếu có cơ hội trở về quê hương hoặc những nơi từng sống, cô/chú mong muốn được làm điều gì nhất?</li>
                        <li>Cảm giác của cô/chú như thế nào khi màn đêm buông xuống giữa không gian núi rừng này?</li>
                        <li>Làm thế nào để cô/chú duy trì sợi dây tình cảm với những người thân đang ở xa?</li>
                        <li>Sự khác biệt lớn nhất giữa cuộc sống ở làng và cuộc sống hiện tại của cô/chú là gì?</li>
                        <li>Kể về những người đang cùng chung sống và sự gắn bó giữa mọi người trong gia đình?</li>
                        <li>Chia sẻ về vai trò và sự hiện diện của người chồng/vợ trong cuộc đời cô/chú?</li>
                        <li>Hồi tưởng lại những cột mốc quan trọng gắn liền với tên và tuổi của mình?</li>
                        <li>Gia đình cô/chú đã cùng nhau vượt qua những giai đoạn khó khăn nhất như thế nào?</li>
                        <li>Cô/chú thường có cảm xúc và suy nghĩ gì mỗi khi có người lạ bất ngờ ghé thăm?</li>
                        <li>Ấn tượng đầu tiên của cô/chú về tôi khi mới xuất hiện là như thế nào?</li>
                        <li>Điều gì khiến cô/chú cảm thấy gắn bó và yêu mến vùng núi này bất chấp những khó khăn?</li>
                        <li>Kể về những hoạt động khiến cô/chú cảm thấy bận rộn hoặc thư thả từ lúc bình minh đến khi đêm về?</li>
                        <li>Những niềm vui nhỏ bé nào giúp cô/chú xua tan mệt mỏi sau một ngày mưu sinh?</li>
                        <li>Lý do sâu xa nào khiến cô/chú chọn gắn bó với mảnh đất này thay vì một nơi khác?</li>
                        <li>Điều gì khiến cô/chú cảm thấy cuộc sống ở đây phù hợp với mình hơn là ở trong làng?</li>
                        <li>Ý nghĩa đằng sau cái tên mà cha mẹ đã đặt cho cô/chú là gì?</li>
                        <li>Mô tả cách thức cô/chú đối diện và giải quyết thử thách lớn nhất phát sinh trong ngày?</li>
                        <li>Mảnh đất này đã thay đổi như thế nào trong suốt những năm tháng cô/chú sinh sống ở đây?</li>
                        <li>Cô/chú thường tìm kiếm sự thư giãn hoặc niềm an ủi ở đâu khi có thời gian rảnh rỗi?</li>
                    </ol>
                </div>
            </details>

            <!-- Category: Nhà Ở & Điều Kiện Sinh Hoạt -->
            <details id="nha-o-dieu-kien-sinh-hoat" class="group mb-6 p-4 bg-green-50 rounded-lg shadow-sm">
                <summary class="flex justify-between items-center text-xl font-semibold text-green-600 cursor-pointer">
                    Nhà Ở & Điều Kiện Sinh Hoạt
                    <svg class="w-5 h-5 transform transition-transform duration-300 group-open:rotate-90" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                </summary>
                <div class="mt-3">
                    <ol class="list-decimal pl-6 space-y-2 text-gray-700">
                        <li>Mô tả cảm giác thực sự của cơ thể sau mỗi đêm nghỉ ngơi trên địa hình không bằng phẳng như hiện tại?</li>
                        <li>Những suy nghĩ nào thường xuất hiện trong đầu cô/chú mỗi khi trời nổi giông bão?</li>
                        <li>Cách cô/chú chống chọi với cái lạnh thấu xương của núi rừng để có một giấc ngủ ngon?</li>
                        <li>Cô/chú đã trang trí hoặc sắp xếp những gì để nơi ở này thực sự trở thành một "tổ ấm"?</li>
                        <li>Kể về những sáng kiến sáng tạo của gia đình để giữ ấm trong mùa đông giá rét?</li>
                        <li>Hãy dẫn tôi đi thăm và mô tả về những vật liệu tự nhiên đã tạo nên nơi ở này?</li>
                        <li>Nếu được thay đổi một điều duy nhất để ngôi nhà an toàn hơn, cô/chú sẽ chọn làm gì?</li>
                        <li>Ngôi nhà trong mơ mà cô/chú luôn mong muốn xây dựng cho gia đình trông như thế nào?</li>
                        <li>Cuộc sống sinh hoạt của cả nhà sẽ thay đổi ra sao nếu có một hệ thống vệ sinh sạch sẽ ngay tại đây?</li>
                        <li>Hãy tưởng tượng về khoảnh khắc đầu tiên khi bóng đèn điện được thắp sáng trong nhà, cô/chú sẽ làm gì?</li>
                        <li>Kể về những công việc chuẩn bị kỳ công của gia đình trước khi mùa mưa bão kéo đến?</li>
                        <li>Gia đình đã phối hợp với nhau như thế nào để bảo vệ nhau trước sự khắc nghiệt của thời tiết?</li>
                        <li>Chia sẻ những kinh nghiệm ngăn chặn côn trùng và thú rừng xâm nhập vào không gian sống?</li>
                        <li>Kể về những lần đối mặt với động vật hoang dã và cách cô/chú xử lý tình huống đó?</li>
                        <li>Mô tả chi tiết các bước chuẩn bị cho chỗ ngủ mỗi tối để đảm bảo sự thoải mái nhất có thể?</li>
                        <li>Trời mưa ảnh hưởng như thế nào đến sự yên tĩnh và giấc ngủ của cả gia đình?</li>
                        <li>Lịch sử hình thành và những kỷ niệm gắn liền với việc dựng xây ngôi nhà hiện tại?</li>
                        <li>Ngoài vấn đề dột nát, điều gì ở cấu trúc ngôi nhà khiến cô/chú cảm thấy bất tiện nhất?</li>
                        <li>Tại sao góc này/phần này của ngôi nhà lại khiến cô/chú lo lắng nhiều nhất?</li>
                        <li>Thiên nhiên xung quanh vừa là bạn, vừa là thử thách, cô/chú nhìn nhận mối quan hệ này như thế nào?</li>
                        <li>Mô tả kế hoạch di chuyển và tìm nơi trú ẩn của gia đình khi có thiên tai lớn xảy ra?</li>
                        <li>Đối với cô/chú, một nơi như thế nào thì mới được gọi là "Nhà" đúng nghĩa?</li>
                        <li>Bóng tối vào ban đêm hạn chế những ước muốn hay dự định nào của gia đình cô/chú?</li>
                    </ol>
                </div>
            </details>

            <!-- Category: Lương Thực & Nước Sạch -->
            <details id="luong-thuc-nuoc-sach" class="group mb-6 p-4 bg-yellow-50 rounded-lg shadow-sm">
                <summary class="flex justify-between items-center text-xl font-semibold text-yellow-600 cursor-pointer">
                    Lương Thực & Nước Sạch
                    <svg class="w-5 h-5 transform transition-transform duration-300 group-open:rotate-90" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                </summary>
                <div class="mt-3">
                    <ol class="list-decimal pl-6 space-y-2 text-gray-700">
                        <li>Kể về thực đơn của bữa ăn gần nhất và cảm giác của cô/chú sau khi dùng bữa?</li>
                        <li>Những tâm tư, trăn trở của cô/chú khi phải lo toan từng bữa ăn cho con cái?</li>
                        <li>Kể về hành trình đi tìm và mang nước về cho gia đình mỗi ngày?</li>
                        <li>Mô tả những món ăn quen thuộc và cách cô/chú chế biến chúng từ nguồn lực hạn hẹp?</li>
                        <li>Làm thế nào cô/chú đa dạng hóa bữa ăn khi chỉ có những nguyên liệu cơ bản nhất?</li>
                        <li>Trong những lúc ngặt nghèo nhất, gia đình đã tìm kiếm nguồn thức ăn từ thiên nhiên như thế nào?</li>
                        <li>Cảm xúc của cả nhà trong những dịp hiếm hoi có một bữa ăn thịnh soạn và đầy đủ?</li>
                        <li>Quá trình lấy nước tiêu tốn bao nhiêu sức lực và thời gian trong quỹ thời gian quý báu của cô/chú?</li>
                        <li>Khó khăn lớn nhất trong việc duy trì bếp lửa và thức ăn hàng ngày là gì?</li>
                        <li>Làm thế nào để cô/chú giữ vững tinh thần khi phải đối mặt với nỗi lo thiếu đói?</li>
                    </ol>
                </div>
            </details>

            <!-- Category: Sức Khỏe & Chăm Sóc Y Tế -->
            <details id="suc-khoe-cham-soc-y-te" class="group mb-6 p-4 bg-red-50 rounded-lg shadow-sm">
                <summary class="flex justify-between items-center text-xl font-semibold text-red-600 cursor-pointer">
                    Sức Khỏe & Chăm Sóc Y Tế
                    <svg class="w-5 h-5 transform transition-transform duration-300 group-open:rotate-90" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                </summary>
                <div class="mt-3">
                    <ol class="list-decimal pl-6 space-y-2 text-gray-700">
                        <li>Sự hỗ trợ từ cộng đồng hoặc chính quyền đã giúp thay đổi cuộc sống của cô/chú như thế nào?</li>
                        <li>Nỗi sợ hãi lớn nhất của cô/chú liên quan đến bệnh tật là gì và tại sao?</li>
                        <li>Chia sẻ về một lần gia đình tự xoay sở vượt qua bệnh tật khi không có điều kiện tiếp cận y tế?</li>
                        <li>Hành trình di chuyển đến cơ sở y tế gần nhất vất vả như thế nào đối với một người đang ốm?</li>
                        <li>Những kiến thức về cây thuốc rừng mà cô/chú đã học được để tự bảo vệ sức khỏe?</li>
                    </ol>
                </div>
            </details>

            <!-- Category: Lao Động & Sinh Kế -->
            <details id="lao-dong-sinh-ke" class="group mb-6 p-4 bg-purple-50 rounded-lg shadow-sm">
                <summary class="flex justify-between items-center text-xl font-semibold text-purple-600 cursor-pointer">
                    Lao Động & Sinh Kế
                    <svg class="w-5 h-5 transform transition-transform duration-300 group-open:rotate-90" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                </summary>
                <div class="mt-3">
                    <ol class="list-decimal pl-6 space-y-2 text-gray-700">
                        <li>Mô tả những rủi ro nghề nghiệp mà cô/chú phải đối mặt hằng ngày để đổi lấy thu nhập?</li>
                        <li>Kể về những kỹ năng đặc biệt mà cô/chú cần có để duy trì công việc hiện tại?</li>
                        <li>Thu nhập ít ỏi được cô/chú phân bổ như thế nào để trang trải cho tất cả nhu cầu?</li>
                        <li>Những suy nghĩ của cô/chú khi thấy các con phải sớm phụ giúp việc mưu sinh?</li>
                        <li>Bí quyết nào giúp cô/chú vẫn có thể tiết kiệm hoặc tích lũy giữa muôn vàn khó khăn?</li>
                    </ol>
                </div>
            </details>

            <!-- Category: Giáo Dục & Tương Lai Trẻ Em -->
            <details id="giao-duc-tuong-lai-tre-em" class="group mb-6 p-4 bg-teal-50 rounded-lg shadow-sm">
                <summary class="flex justify-between items-center text-xl font-semibold text-teal-600 cursor-pointer">
                    Giáo Dục & Tương Lai Trẻ Em
                    <svg class="w-5 h-5 transform transition-transform duration-300 group-open:rotate-90" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                </summary>
                <div class="mt-3">
                    <ol class="list-decimal pl-6 space-y-2 text-gray-700">
                        <li>Kể về những khó khăn mà các con kể lại sau mỗi chặng đường dài đi bộ đến trường?</li>
                        <li>Rào cản lớn nhất ngăn cản giấc mơ học tập của các con cô/chú hiện nay là gì?</li>
                        <li>Các con thường tâm sự với cô/chú về ước mơ trở thành người như thế nào trong tương lai?</li>
                        <li>Cô/chú thường dùng những lời khuyên hay câu chuyện nào để tiếp thêm động lực đi học cho con?</li>
                        <li>Những thay đổi tích cực nào cô/chú nhận thấy ở các con từ khi chúng được đến trường?</li>
                    </ol>
                </div>
            </details>
        </section>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const tocList = document.getElementById('toc-list');
            const hideCompletedToggle = document.getElementById('hideCompletedToggle');
            const allQuestionLists = document.querySelectorAll('ol');
            const savedStates = JSON.parse(localStorage.getItem('interviewQuestionStates')) || {};

            // TOC Generation
            const allDetailsSections = document.querySelectorAll('section > details');
            allDetailsSections.forEach(details => {
                const summaryText = details.querySelector('summary').firstChild.textContent.trim();
                const detailId = details.id;
                const li = document.createElement('li');
                const a = document.createElement('a');
                a.href = '#' + detailId;
                a.textContent = summaryText;
                a.className = 'text-blue-700 hover:underline font-bold';
                a.onclick = (e) => {
                    e.preventDefault();
                    const target = document.getElementById(detailId);
                    target.scrollIntoView({ behavior: 'smooth' });
                    target.open = true;
                };
                li.appendChild(a);
                tocList.appendChild(li);
            });

            function toggleCompletedQuestions() {
                const isHideChecked = hideCompletedToggle.checked;
                document.querySelectorAll('ol li').forEach(li => {
                    const cb = li.querySelector('input');
                    if (cb && cb.checked && isHideChecked) {
                        li.classList.add('hidden-question');
                    } else {
                        li.classList.remove('hidden-question');
                    }
                });
            }

            function applyQuestionStates() {
                allQuestionLists.forEach(ol => {
                    const categoryId = ol.closest('details').id;
                    const questionItems = Array.from(ol.children);
                    const questionData = questionItems.map((li, index) => ({
                        text: li.textContent.trim(),
                        id: `${categoryId}_${index}`
                    }));

                    // Sort Alphabetically by Vietnamese locale
                    questionData.sort((a, b) => a.text.localeCompare(b.text, 'vi'));

                    ol.innerHTML = '';
                    questionData.forEach(data => {
                        const li = document.createElement('li');
                        const label = document.createElement('label');
                        label.className = 'flex items-start space-x-2 cursor-pointer py-1';

                        const checkbox = document.createElement('input');
                        checkbox.type = 'checkbox';
                        checkbox.className = 'form-checkbox h-4 w-4 mt-1 text-blue-600 rounded';
                        checkbox.checked = savedStates[data.id] || false;

                        const span = document.createElement('span');
                        span.textContent = data.text;
                        if (checkbox.checked) span.classList.add('line-through', 'text-gray-400');

                        checkbox.onchange = () => {
                            savedStates[data.id] = checkbox.checked;
                            localStorage.setItem('interviewQuestionStates', JSON.stringify(savedStates));
                            span.classList.toggle('line-through', checkbox.checked);
                            span.classList.toggle('text-gray-400', checkbox.checked);
                            toggleCompletedQuestions();
                        };

                        label.append(checkbox, span);
                        li.appendChild(label);
                        ol.appendChild(li);
                    });
                });
            }

            hideCompletedToggle.onchange = () => {
                localStorage.setItem('hideCompletedToggleState', hideCompletedToggle.checked);
                toggleCompletedQuestions();
            };

            const savedToggle = localStorage.getItem('hideCompletedToggleState') === 'true';
            hideCompletedToggle.checked = savedToggle;

            applyQuestionStates();
            toggleCompletedQuestions();
        });
    </script>
</body>
</html>